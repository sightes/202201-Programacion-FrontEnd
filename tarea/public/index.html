<!DOCTYPE html>
<header>
    <style>
        *{padding: 0;
        margin: 10px;
    background-color: beige;}
        
        
        .ingresotarea {
            width: 100%;
            padding:30px ;
            margin: auto;
            margin-top: 0px;
            border-radius: 1px;
            font-family: 'calibri';
            color: rgb(1, 1, 1);

        }
        
        .ingresotarea .tarea{
            width: 70%;
            height: 14px;
            background: #f8f7f6;
            margin: auto;
            border-radius: 4px;
            font-family: 'calibri';
            font-size: 14px;
            color: rgb(1, 1, 1);
        }


        .ingresotarea .boton{
            width: 20%;
            background:#4a4a52 ;
            border: none;
            border-radius: 4px;
            color: white;
            padding: 1px;
            font-size: 12px;
            margin: 16px 0 ;
        }
        
        .ingresotarea .boton:hover{
            color: white;
            text-decoration: underline;
            background: #7373f1;
            }
        
       .ingresotarea .listatareas .boton:active{
                color: white;
                text-decoration: underline;
                background: #b96750;
                } 
    .listatareas {
            width: 90%;
            padding:1px ;
            margin: 0px;
            margin-top: 1px;
            border-radius: 4px;
            font-family: 'calibri';
            color: rgb(1, 1, 1);
            
        }      
        
        .listatareas .tarea{
            width: 90%;
            margin: auto;
            font-size: 14px;
            font-weight: 500;
            background-color: bisque;
            border: 1px solid rgb(0, 0, 0);
            font-family: 'calibri';
            float:right;
            margin:1px;
            color: rgb(1, 1, 1);

        }     
        
        .listatareas .eliminar{
            width: 15px;
            position:relative;
            left:-1%;
            background:#cf2121 ;
            border-radius: 14px;
            color: white;
            float: left;
            font-size: 7px;
            margin:0px;
        }
        
                </style>


</header>
<body>
    <form class="ingresotarea" action="/add" method="GET">
       <input class='tarea' type="text"  
    name="tarea" maxlength="24"  id="tarea" placeholder="tarea" 
    required>
    <input class='boton' type="submit" value="Agregar" >
    
 </form>
<div class="listatareas" id="lista">
 <!-- <div class="tarea"> hola
        <button class="eliminar" type ="submit" id="id" name="id" value="">X</button></form>
    </div>

    <div class="tarea"> hola
        <button class="eliminar" type ="submit" id="id" name="id" value="">X</button></form>
    </div> -->
</div>
</body>
<script type="text/javascript" languaje="javascript">

var main=document.getElementById("lista");
fetch('http://127.0.0.1:3000/view.json')
.then(response => response.json())
.then(data => 
{ //document.getElementById('texto').innerHTML=data[1].nombre;
   for (var i=0 ; i<data.length;i++){
    var div = document.createElement("div");
        div.setAttribute('class','tarea');
        div.innerHTML = '<form action="/delete" method="GET">'+
            '<button class="eliminar" type ="submit" id="id" name="id" value="'+ data[i].id +'">X</button></form>' + data[i].tarea;
        main.appendChild(div);}
}
)


</script>
</html>